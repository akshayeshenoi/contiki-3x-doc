<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Contiki 3.x: cc2538 RF Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Contiki 3.x
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a02667.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">cc2538 RF Driver<div class="ingroups"><a class="el" href="a02648.html">Contiki platforms</a> &raquo; <a class="el" href="a02649.html">TI cc2538-powered platforms</a> &raquo; <a class="el" href="a02643.html">The TI cc2538 System-on-Chip</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Driver implementation for the cc2538 RF transceiver.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:a01461"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01461.html">cc2538-rf.c</a></td></tr>
<tr class="memdesc:a01461"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of the cc2538 RF driver. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01462"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01462.html">cc2538-rf.h</a></td></tr>
<tr class="memdesc:a01462"><td class="mdescLeft">&#160;</td><td class="mdescRight">Header file for the cc2538 RF driver. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga41315268b546d31c9e5d72b83673afac"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga41315268b546d31c9e5d72b83673afac"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02667.html#ga41315268b546d31c9e5d72b83673afac">CC2538_RF_CSP_ISRXON</a>()&#160;&#160;&#160;do { REG(<a class="el" href="a02685.html#ga40673ad35ff0b698efa9fd9d137dacd2">RFCORE_SFR_RFST</a>) = CC2538_RF_CSP_OP_ISRXON; } while(0)</td></tr>
<tr class="memdesc:ga41315268b546d31c9e5d72b83673afac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an RX ON command strobe to the CSP. <br /></td></tr>
<tr class="separator:ga41315268b546d31c9e5d72b83673afac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabe92d429049995f0ae6b71391c1fb54a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gabe92d429049995f0ae6b71391c1fb54a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02667.html#gabe92d429049995f0ae6b71391c1fb54a">CC2538_RF_CSP_ISTXON</a>()&#160;&#160;&#160;do { REG(<a class="el" href="a02685.html#ga40673ad35ff0b698efa9fd9d137dacd2">RFCORE_SFR_RFST</a>) = CC2538_RF_CSP_OP_ISTXON; } while(0)</td></tr>
<tr class="memdesc:gabe92d429049995f0ae6b71391c1fb54a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a TX ON command strobe to the CSP. <br /></td></tr>
<tr class="separator:gabe92d429049995f0ae6b71391c1fb54a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3415fe6302555277d48f4862886116e7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3415fe6302555277d48f4862886116e7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02667.html#ga3415fe6302555277d48f4862886116e7">CC2538_RF_CSP_ISRFOFF</a>()&#160;&#160;&#160;do { REG(<a class="el" href="a02685.html#ga40673ad35ff0b698efa9fd9d137dacd2">RFCORE_SFR_RFST</a>) = CC2538_RF_CSP_OP_ISRFOFF; } while(0)</td></tr>
<tr class="memdesc:ga3415fe6302555277d48f4862886116e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a RF OFF command strobe to the CSP. <br /></td></tr>
<tr class="separator:ga3415fe6302555277d48f4862886116e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7452cda0185edf9d134f7d300ad2dae"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab7452cda0185edf9d134f7d300ad2dae"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02667.html#gab7452cda0185edf9d134f7d300ad2dae">CC2538_RF_CSP_ISFLUSHRX</a>()</td></tr>
<tr class="memdesc:gab7452cda0185edf9d134f7d300ad2dae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush the RX FIFO. <br /></td></tr>
<tr class="separator:gab7452cda0185edf9d134f7d300ad2dae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga851bdd749bb459fd781589c0d5bd6ba9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga851bdd749bb459fd781589c0d5bd6ba9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02667.html#ga851bdd749bb459fd781589c0d5bd6ba9">CC2538_RF_CSP_ISFLUSHTX</a>()</td></tr>
<tr class="memdesc:ga851bdd749bb459fd781589c0d5bd6ba9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush the TX FIFO. <br /></td></tr>
<tr class="separator:ga851bdd749bb459fd781589c0d5bd6ba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga92f651785ce46fe84afce1aa130bc0f6"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02667.html#ga92f651785ce46fe84afce1aa130bc0f6">get_channel</a> ()</td></tr>
<tr class="memdesc:ga92f651785ce46fe84afce1aa130bc0f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current operating channel.  <a href="#ga92f651785ce46fe84afce1aa130bc0f6">More...</a><br /></td></tr>
<tr class="separator:ga92f651785ce46fe84afce1aa130bc0f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga725811b297574daf899497f6d70ec009"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02667.html#ga725811b297574daf899497f6d70ec009">set_channel</a> (uint8_t channel)</td></tr>
<tr class="memdesc:ga725811b297574daf899497f6d70ec009"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the current operating channel.  <a href="#ga725811b297574daf899497f6d70ec009">More...</a><br /></td></tr>
<tr class="separator:ga725811b297574daf899497f6d70ec009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33cc1cb1561da57bc685dd7d72ee0171"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="a02498.html#gad8766f1c2c2c55ac53079fe58750967a">radio_value_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02667.html#ga33cc1cb1561da57bc685dd7d72ee0171">get_rssi</a> (void)</td></tr>
<tr class="memdesc:ga33cc1cb1561da57bc685dd7d72ee0171"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the current signal strength (RSSI)  <a href="#ga33cc1cb1561da57bc685dd7d72ee0171">More...</a><br /></td></tr>
<tr class="separator:ga33cc1cb1561da57bc685dd7d72ee0171"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee24874ac3a06e235eae06bc77703417"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02667.html#gaee24874ac3a06e235eae06bc77703417">init</a> (void)</td></tr>
<tr class="separator:gaee24874ac3a06e235eae06bc77703417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9ac47af91b8dc72c6a711aaec9690a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02667.html#gad9ac47af91b8dc72c6a711aaec9690a0">PROCESS_THREAD</a> (cc2538_rf_process, ev, data)</td></tr>
<tr class="memdesc:gad9ac47af91b8dc72c6a711aaec9690a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of the cc2538 RF driver process.  <a href="#gad9ac47af91b8dc72c6a711aaec9690a0">More...</a><br /></td></tr>
<tr class="separator:gad9ac47af91b8dc72c6a711aaec9690a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20bdf7e4c41f468233c9e60c6aeb2087"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02667.html#ga20bdf7e4c41f468233c9e60c6aeb2087">cc2538_rf_rx_tx_isr</a> (void)</td></tr>
<tr class="memdesc:ga20bdf7e4c41f468233c9e60c6aeb2087"><td class="mdescLeft">&#160;</td><td class="mdescRight">The cc2538 RF RX/TX ISR.  <a href="#ga20bdf7e4c41f468233c9e60c6aeb2087">More...</a><br /></td></tr>
<tr class="separator:ga20bdf7e4c41f468233c9e60c6aeb2087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad395ba39c0562f184f675d69842a9547"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02667.html#gad395ba39c0562f184f675d69842a9547">cc2538_rf_err_isr</a> (void)</td></tr>
<tr class="memdesc:gad395ba39c0562f184f675d69842a9547"><td class="mdescLeft">&#160;</td><td class="mdescRight">The cc2538 RF Error ISR.  <a href="#gad395ba39c0562f184f675d69842a9547">More...</a><br /></td></tr>
<tr class="separator:gad395ba39c0562f184f675d69842a9547"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0d0d5e5111dc8560d6afbe70af7fc151"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02667.html#ga0d0d5e5111dc8560d6afbe70af7fc151">cc2538_rf_set_promiscous_mode</a> (char p)</td></tr>
<tr class="memdesc:ga0d0d5e5111dc8560d6afbe70af7fc151"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn promiscous mode on or off.  <a href="#ga0d0d5e5111dc8560d6afbe70af7fc151">More...</a><br /></td></tr>
<tr class="separator:ga0d0d5e5111dc8560d6afbe70af7fc151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7cb36eadd0f05dcaaf620b1bf5bc6d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02667.html#gad7cb36eadd0f05dcaaf620b1bf5bc6d0">cc2538_rf_set_addr</a> (uint16_t pan)</td></tr>
<tr class="memdesc:gad7cb36eadd0f05dcaaf620b1bf5bc6d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets addresses and PAN identifier to the relevant RF hardware registers.  <a href="#gad7cb36eadd0f05dcaaf620b1bf5bc6d0">More...</a><br /></td></tr>
<tr class="separator:gad7cb36eadd0f05dcaaf620b1bf5bc6d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga96bae585877445cffb4b4916e3756b55"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga96bae585877445cffb4b4916e3756b55"></a>
const struct <a class="el" href="a00122.html">radio_driver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02667.html#ga96bae585877445cffb4b4916e3756b55">cc2538_rf_driver</a></td></tr>
<tr class="memdesc:ga96bae585877445cffb4b4916e3756b55"><td class="mdescLeft">&#160;</td><td class="mdescRight">The NETSTACK data structure for the cc2538 RF driver. <br /></td></tr>
<tr class="separator:ga96bae585877445cffb4b4916e3756b55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga96bae585877445cffb4b4916e3756b55"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga96bae585877445cffb4b4916e3756b55"></a>
const struct <a class="el" href="a00122.html">radio_driver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02667.html#ga96bae585877445cffb4b4916e3756b55">cc2538_rf_driver</a></td></tr>
<tr class="memdesc:ga96bae585877445cffb4b4916e3756b55"><td class="mdescLeft">&#160;</td><td class="mdescRight">The NETSTACK data structure for the cc2538 RF driver. <br /></td></tr>
<tr class="separator:ga96bae585877445cffb4b4916e3756b55"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Driver implementation for the cc2538 RF transceiver. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gad395ba39c0562f184f675d69842a9547"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cc2538_rf_err_isr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The cc2538 RF Error ISR. </p>
<p>This is the interrupt service routine for all RF errors. We acknowledge every error type and instead of trying to be smart and act differently depending on error condition, we simply reset the transceiver. RX FIFO overflow is an exception, we ignore this error since read() handles it anyway.</p>
<p>However, we don't want to reset within this ISR. If the error occurs while we are reading a frame out of the FIFO, trashing the FIFO in the middle of read(), would result in further errors (RX underflows).</p>
<p>Instead, we set a flag and poll the driver process. The process will reset the transceiver without any undesirable consequences. </p>

<p>Definition at line <a class="el" href="a01461_source.html#l01102">1102</a> of file <a class="el" href="a01461_source.html">cc2538-rf.c</a>.</p>

<p>References <a class="el" href="a00963_source.html#l00371">process_poll()</a>, <a class="el" href="a01512_source.html#l00061">RFCORE_SFR_RFERRF</a>, and <a class="el" href="a01512_source.html#l00140">RFCORE_SFR_RFERRF_RXOVERF</a>.</p>

</div>
</div>
<a class="anchor" id="ga20bdf7e4c41f468233c9e60c6aeb2087"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cc2538_rf_rx_tx_isr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The cc2538 RF RX/TX ISR. </p>
<p>This is the interrupt service routine for all RF interrupts relating to RX and TX. Error conditions are handled by <a class="el" href="a02667.html#gad395ba39c0562f184f675d69842a9547" title="The cc2538 RF Error ISR. ">cc2538_rf_err_isr()</a>. Currently, we only acknowledge the FIFOP interrupt source. </p>

<p>Definition at line <a class="el" href="a01461_source.html#l01071">1071</a> of file <a class="el" href="a01461_source.html">cc2538-rf.c</a>.</p>

<p>References <a class="el" href="a00963_source.html#l00371">process_poll()</a>, and <a class="el" href="a01512_source.html#l00063">RFCORE_SFR_RFIRQF0</a>.</p>

</div>
</div>
<a class="anchor" id="gad7cb36eadd0f05dcaaf620b1bf5bc6d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cc2538_rf_set_addr </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>pan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets addresses and PAN identifier to the relevant RF hardware registers. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pan</td><td>The PAN Identifier</td></tr>
  </table>
  </dd>
</dl>
<p>Values for short and extended addresses are not needed as parameters since they exist in the linkaddr buffer in the contiki core. They are thus simply copied over from there. </p>

</div>
</div>
<a class="anchor" id="ga0d0d5e5111dc8560d6afbe70af7fc151"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cc2538_rf_set_promiscous_mode </td>
          <td>(</td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Turn promiscous mode on or off. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>If promiscous mode should be on (1) or off (0)</td></tr>
  </table>
  </dd>
</dl>
<p>This function turns promiscous mode on or off. In promiscous mode, every received frame is returned from the RF core. In non-promiscous mode, only broadcast frames or frames with our address as the receive address are returned from the RF core. </p>

<p>Definition at line <a class="el" href="a01461_source.html#l01121">1121</a> of file <a class="el" href="a01461_source.html">cc2538-rf.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga92f651785ce46fe84afce1aa130bc0f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t get_channel </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the current operating channel. </p>
<dl class="section return"><dt>Returns</dt><dd>Returns a value in [11,26] representing the current channel </dd></dl>

<p>Definition at line <a class="el" href="a01461_source.html#l00158">158</a> of file <a class="el" href="a01461_source.html">cc2538-rf.c</a>.</p>

<p>References <a class="el" href="a01513_source.html#l00059">RFCORE_XREG_FREQCTRL</a>, and <a class="el" href="a01513_source.html#l00252">RFCORE_XREG_FREQCTRL_FREQ</a>.</p>

<p>Referenced by <a class="el" href="a01461_source.html#l00472">init()</a>.</p>

</div>
</div>
<a class="anchor" id="ga33cc1cb1561da57bc685dd7d72ee0171"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="a02498.html#gad8766f1c2c2c55ac53079fe58750967a">radio_value_t</a> get_rssi </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads the current signal strength (RSSI) </p>
<dl class="section return"><dt>Returns</dt><dd>The current RSSI in dBm</dd></dl>
<p>This function reads the current RSSI on the currently configured channel. </p>

<p>Definition at line <a class="el" href="a01461_source.html#l00237">237</a> of file <a class="el" href="a01461_source.html">cc2538-rf.c</a>.</p>

<p>References <a class="el" href="a01462_source.html#l00120">CC2538_RF_CSP_ISFLUSHRX</a>, <a class="el" href="a01462_source.html#l00114">CC2538_RF_CSP_ISRFOFF</a>, <a class="el" href="a01462_source.html#l00102">CC2538_RF_CSP_ISRXON</a>, <a class="el" href="a01215_source.html#l00653">NVIC_DisableIRQ()</a>, <a class="el" href="a01215_source.html#l00642">NVIC_EnableIRQ()</a>, <a class="el" href="a01416_source.html#l00109">RF_TX_RX_IRQn</a>, <a class="el" href="a01512_source.html#l00046">RFCORE_SFR_MTCTRL</a>, <a class="el" href="a01512_source.html#l00077">RFCORE_SFR_MTCTRL_LATCH_MODE</a>, <a class="el" href="a01512_source.html#l00080">RFCORE_SFR_MTCTRL_RUN</a>, <a class="el" href="a01512_source.html#l00078">RFCORE_SFR_MTCTRL_STATE</a>, <a class="el" href="a01512_source.html#l00079">RFCORE_SFR_MTCTRL_SYNC</a>, <a class="el" href="a01512_source.html#l00050">RFCORE_SFR_MTM0</a>, <a class="el" href="a01512_source.html#l00115">RFCORE_SFR_MTM0_MTM0</a>, <a class="el" href="a01512_source.html#l00051">RFCORE_SFR_MTM1</a>, <a class="el" href="a01512_source.html#l00116">RFCORE_SFR_MTM1_MTM1</a>, <a class="el" href="a01512_source.html#l00054">RFCORE_SFR_MTMOVF0</a>, <a class="el" href="a01512_source.html#l00124">RFCORE_SFR_MTMOVF0_MTMOVF0</a>, <a class="el" href="a01512_source.html#l00053">RFCORE_SFR_MTMOVF1</a>, <a class="el" href="a01512_source.html#l00123">RFCORE_SFR_MTMOVF1_MTMOVF1</a>, <a class="el" href="a01512_source.html#l00052">RFCORE_SFR_MTMOVF2</a>, <a class="el" href="a01512_source.html#l00117">RFCORE_SFR_MTMOVF2_MTMOVF2</a>, <a class="el" href="a01512_source.html#l00049">RFCORE_SFR_MTMSEL</a>, <a class="el" href="a01512_source.html#l00108">RFCORE_SFR_MTMSEL_MTMOVFSEL</a>, <a class="el" href="a01512_source.html#l00109">RFCORE_SFR_MTMSEL_MTMSEL</a>, <a class="el" href="a01512_source.html#l00063">RFCORE_SFR_RFIRQF0</a>, <a class="el" href="a01512_source.html#l00164">RFCORE_SFR_RFIRQF0_FIFOP</a>, <a class="el" href="a01513_source.html#l00066">RFCORE_XREG_CCACTRL0</a>, <a class="el" href="a01513_source.html#l00307">RFCORE_XREG_CCACTRL0_CCA_THR</a>, <a class="el" href="a01513_source.html#l00053">RFCORE_XREG_FRMCTRL0</a>, <a class="el" href="a01513_source.html#l00211">RFCORE_XREG_FRMCTRL0_AUTOACK</a>, <a class="el" href="a01513_source.html#l00044">RFCORE_XREG_FRMFILT0</a>, <a class="el" href="a01513_source.html#l00149">RFCORE_XREG_FRMFILT0_FRAME_FILTER_EN</a>, <a class="el" href="a01513_source.html#l00062">RFCORE_XREG_FSMSTAT0</a>, <a class="el" href="a01513_source.html#l00275">RFCORE_XREG_FSMSTAT0_FSM_FFCTRL_STATE</a>, <a class="el" href="a01513_source.html#l00063">RFCORE_XREG_FSMSTAT1</a>, <a class="el" href="a01513_source.html#l00284">RFCORE_XREG_FSMSTAT1_CCA</a>, <a class="el" href="a01513_source.html#l00282">RFCORE_XREG_FSMSTAT1_FIFOP</a>, <a class="el" href="a01513_source.html#l00287">RFCORE_XREG_FSMSTAT1_TX_ACTIVE</a>, <a class="el" href="a01513_source.html#l00079">RFCORE_XREG_RFIRQM0</a>, <a class="el" href="a01513_source.html#l00373">RFCORE_XREG_RFIRQM0_FIFOP</a>, <a class="el" href="a01513_source.html#l00068">RFCORE_XREG_RSSI</a>, <a class="el" href="a01513_source.html#l00320">RFCORE_XREG_RSSI_RSSI_VAL</a>, <a class="el" href="a01513_source.html#l00069">RFCORE_XREG_RSSISTAT</a>, <a class="el" href="a01513_source.html#l00327">RFCORE_XREG_RSSISTAT_RSSI_VALID</a>, <a class="el" href="a01513_source.html#l00055">RFCORE_XREG_RXENABLE</a>, <a class="el" href="a01513_source.html#l00060">RFCORE_XREG_TXPOWER</a>, and <a class="el" href="a00970_source.html#l00135">RTIMER_NOW</a>.</p>

<p>Referenced by <a class="el" href="a01461_source.html#l00472">init()</a>.</p>

</div>
</div>
<a class="anchor" id="gaee24874ac3a06e235eae06bc77703417"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>TX anti-aliasing filter bandwidth</p>
<p>AGC target value</p>
<p>Bias currents </p>

<p>Definition at line <a class="el" href="a01461_source.html#l00472">472</a> of file <a class="el" href="a01461_source.html">cc2538-rf.c</a>.</p>

<p>References <a class="el" href="a01979_source.html#l00128">CC2538_RF_CONF_RX_DMA_CHAN</a>, <a class="el" href="a01979_source.html#l00385">CC2538_RF_CONF_RX_USE_DMA</a>, <a class="el" href="a01979_source.html#l00127">CC2538_RF_CONF_TX_DMA_CHAN</a>, <a class="el" href="a01979_source.html#l00381">CC2538_RF_CONF_TX_USE_DMA</a>, <a class="el" href="a01462_source.html#l00120">CC2538_RF_CSP_ISFLUSHRX</a>, <a class="el" href="a01462_source.html#l00128">CC2538_RF_CSP_ISFLUSHTX</a>, <a class="el" href="a01462_source.html#l00108">CC2538_RF_CSP_ISTXON</a>, <a class="el" href="a01010_source.html#l00094">clock_delay_usec()</a>, <a class="el" href="a01461_source.html#l00158">get_channel()</a>, <a class="el" href="a01461_source.html#l00237">get_rssi()</a>, <a class="el" href="a01872_source.html#l00186">NULL</a>, <a class="el" href="a01215_source.html#l00642">NVIC_EnableIRQ()</a>, <a class="el" href="a00963_source.html#l00371">process_poll()</a>, <a class="el" href="a00963_source.html#l00099">process_start()</a>, <a class="el" href="a00589_source.html#l00204">RADIO_RX_MODE_ADDRESS_FILTER</a>, <a class="el" href="a00589_source.html#l00216">RADIO_TX_MODE_SEND_ON_CCA</a>, <a class="el" href="a01416_source.html#l00110">RF_ERR_IRQn</a>, <a class="el" href="a01511_source.html#l00054">RFCORE_FFSM_EXT_ADDR0</a>, <a class="el" href="a01512_source.html#l00060">RFCORE_SFR_RFDATA</a>, <a class="el" href="a01513_source.html#l00093">RFCORE_XREG_AGCCTRL1</a>, <a class="el" href="a01513_source.html#l00066">RFCORE_XREG_CCACTRL0</a>, <a class="el" href="a01513_source.html#l00064">RFCORE_XREG_FIFOPCTRL</a>, <a class="el" href="a01513_source.html#l00053">RFCORE_XREG_FRMCTRL0</a>, <a class="el" href="a01513_source.html#l00211">RFCORE_XREG_FRMCTRL0_AUTOACK</a>, <a class="el" href="a01513_source.html#l00210">RFCORE_XREG_FRMCTRL0_AUTOCRC</a>, <a class="el" href="a01513_source.html#l00044">RFCORE_XREG_FRMFILT0</a>, <a class="el" href="a01513_source.html#l00149">RFCORE_XREG_FRMFILT0_FRAME_FILTER_EN</a>, <a class="el" href="a01513_source.html#l00063">RFCORE_XREG_FSMSTAT1</a>, <a class="el" href="a01513_source.html#l00281">RFCORE_XREG_FSMSTAT1_FIFO</a>, <a class="el" href="a01513_source.html#l00282">RFCORE_XREG_FSMSTAT1_FIFOP</a>, <a class="el" href="a01513_source.html#l00283">RFCORE_XREG_FSMSTAT1_SFD</a>, <a class="el" href="a01513_source.html#l00287">RFCORE_XREG_FSMSTAT1_TX_ACTIVE</a>, <a class="el" href="a01513_source.html#l00081">RFCORE_XREG_RFERRM</a>, <a class="el" href="a01513_source.html#l00393">RFCORE_XREG_RFERRM_RFERRM</a>, <a class="el" href="a01513_source.html#l00055">RFCORE_XREG_RXENABLE</a>, <a class="el" href="a01513_source.html#l00228">RFCORE_XREG_RXENABLE_RXENMASK</a>, <a class="el" href="a01513_source.html#l00046">RFCORE_XREG_SRCMATCH</a>, <a class="el" href="a01513_source.html#l00141">RFCORE_XREG_TXFILTCFG</a>, <a class="el" href="a01513_source.html#l00060">RFCORE_XREG_TXPOWER</a>, <a class="el" href="a00970_source.html#l00135">RTIMER_NOW</a>, <a class="el" href="a01461_source.html#l00173">set_channel()</a>, <a class="el" href="a01522_source.html#l00095">SYS_CTRL_DCGCRFC</a>, <a class="el" href="a01522_source.html#l00093">SYS_CTRL_RCGCRFC</a>, <a class="el" href="a01522_source.html#l00094">SYS_CTRL_SCGCRFC</a>, <a class="el" href="a01523_source.html#l00120">udma_channel_enable()</a>, <a class="el" href="a01523_source.html#l00235">udma_channel_get_mode()</a>, <a class="el" href="a01523_source.html#l00204">udma_channel_mask_set()</a>, <a class="el" href="a01523_source.html#l00225">udma_channel_sw_request()</a>, <a class="el" href="a01523_source.html#l00090">udma_set_channel_control_word()</a>, <a class="el" href="a01523_source.html#l00080">udma_set_channel_dst()</a>, <a class="el" href="a01523_source.html#l00070">udma_set_channel_src()</a>, and <a class="el" href="a01524_source.html#l00697">udma_xfer_size</a>.</p>

<p>Referenced by <a class="el" href="a01461_source.html#l01020">PROCESS_THREAD()</a>.</p>

</div>
</div>
<a class="anchor" id="gad9ac47af91b8dc72c6a711aaec9690a0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROCESS_THREAD </td>
          <td>(</td>
          <td class="paramtype">cc2538_rf_process&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ev&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">data&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementation of the cc2538 RF driver process. </p>
<p>This process is started by <a class="el" href="a02667.html#gaee24874ac3a06e235eae06bc77703417">init()</a>. It simply sits there waiting for an event. Upon frame reception, the RX ISR will poll this process. Subsequently, the contiki core will generate an event which will call this process so that the received frame can be picked up from the RF RX FIFO </p>

<p>Definition at line <a class="el" href="a01461_source.html#l01020">1020</a> of file <a class="el" href="a01461_source.html">cc2538-rf.c</a>.</p>

<p>References <a class="el" href="a01461_source.html#l00472">init()</a>, <a class="el" href="a00589_source.html#l00267">radio_driver::off</a>, <a class="el" href="a00589_source.html#l00264">radio_driver::on</a>, <a class="el" href="a00852_source.html#l00076">packetbuf_clear()</a>, <a class="el" href="a00852_source.html#l00158">packetbuf_dataptr()</a>, <a class="el" href="a00852_source.html#l00151">packetbuf_set_datalen()</a>, <a class="el" href="a00853_source.html#l00066">PACKETBUF_SIZE</a>, <a class="el" href="a00964_source.html#l00120">PROCESS_BEGIN</a>, <a class="el" href="a00964_source.html#l00131">PROCESS_END</a>, <a class="el" href="a00964_source.html#l00178">PROCESS_YIELD_UNTIL</a>, <a class="el" href="a00589_source.html#l00251">radio_driver::read</a>, <a class="el" href="a01513_source.html#l00062">RFCORE_XREG_FSMSTAT0</a>, and <a class="el" href="a01513_source.html#l00275">RFCORE_XREG_FSMSTAT0_FSM_FFCTRL_STATE</a>.</p>

</div>
</div>
<a class="anchor" id="ga725811b297574daf899497f6d70ec009"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t set_channel </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>channel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the current operating channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">channel</td><td>The desired channel as a value in [11,26] </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a value in [11,26] representing the current channel or a negative value if <em>channel</em> was out of bounds </dd></dl>

<p>Definition at line <a class="el" href="a01461_source.html#l00173">173</a> of file <a class="el" href="a01461_source.html">cc2538-rf.c</a>.</p>

<p>References <a class="el" href="a00768_source.html#l00123">addr</a>, <a class="el" href="a01511_source.html#l00062">RFCORE_FFSM_PAN_ID0</a>, <a class="el" href="a01511_source.html#l00063">RFCORE_FFSM_PAN_ID1</a>, <a class="el" href="a01511_source.html#l00064">RFCORE_FFSM_SHORT_ADDR0</a>, <a class="el" href="a01511_source.html#l00065">RFCORE_FFSM_SHORT_ADDR1</a>, <a class="el" href="a01513_source.html#l00059">RFCORE_XREG_FREQCTRL</a>, <a class="el" href="a01513_source.html#l00062">RFCORE_XREG_FSMSTAT0</a>, and <a class="el" href="a01513_source.html#l00275">RFCORE_XREG_FSMSTAT0_FSM_FFCTRL_STATE</a>.</p>

<p>Referenced by <a class="el" href="a01461_source.html#l00472">init()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Mar 11 2022 12:06:08 for Contiki 3.x by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
