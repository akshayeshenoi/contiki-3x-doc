<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Contiki 3.x: Rime buffer management</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Contiki 3.x
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a02510.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Rime buffer management<div class="ingroups"><a class="el" href="a02847.html">Communication stacks</a> &raquo; <a class="el" href="a02850.html">The Rime communication stack</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The packetbuf module does Rime's buffer management.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga7a3b189fd04b82463abb4117fdb26b67"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga7a3b189fd04b82463abb4117fdb26b67"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02510.html#ga7a3b189fd04b82463abb4117fdb26b67">PACKETBUF_SIZE</a>&#160;&#160;&#160;128</td></tr>
<tr class="memdesc:ga7a3b189fd04b82463abb4117fdb26b67"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size of the packetbuf, in bytes. <br /></td></tr>
<tr class="separator:ga7a3b189fd04b82463abb4117fdb26b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa540c9abf0db13d27881b616f7794824"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02510.html#gaa540c9abf0db13d27881b616f7794824">packetbuf_clear</a> (void)</td></tr>
<tr class="memdesc:gaa540c9abf0db13d27881b616f7794824"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear and reset the packetbuf.  <a href="#gaa540c9abf0db13d27881b616f7794824">More...</a><br /></td></tr>
<tr class="separator:gaa540c9abf0db13d27881b616f7794824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5fd9cb98f800733b6d9381bce81cd224"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02510.html#ga5fd9cb98f800733b6d9381bce81cd224">packetbuf_copyfrom</a> (const void *from, uint16_t len)</td></tr>
<tr class="memdesc:ga5fd9cb98f800733b6d9381bce81cd224"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy from external data into the packetbuf.  <a href="#ga5fd9cb98f800733b6d9381bce81cd224">More...</a><br /></td></tr>
<tr class="separator:ga5fd9cb98f800733b6d9381bce81cd224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga39a862c119717560e224923801c1fa2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02510.html#ga39a862c119717560e224923801c1fa2a">packetbuf_compact</a> (void)</td></tr>
<tr class="memdesc:ga39a862c119717560e224923801c1fa2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compact the packetbuf.  <a href="#ga39a862c119717560e224923801c1fa2a">More...</a><br /></td></tr>
<tr class="separator:ga39a862c119717560e224923801c1fa2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacad3b92ca8f9ce7845b6c490ba9f05bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02510.html#gacad3b92ca8f9ce7845b6c490ba9f05bf">packetbuf_copyto</a> (void *to)</td></tr>
<tr class="memdesc:gacad3b92ca8f9ce7845b6c490ba9f05bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy the entire packetbuf to an external buffer.  <a href="#gacad3b92ca8f9ce7845b6c490ba9f05bf">More...</a><br /></td></tr>
<tr class="separator:gacad3b92ca8f9ce7845b6c490ba9f05bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacffe7341cbfe90034e829ea70111203a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02510.html#gacffe7341cbfe90034e829ea70111203a">packetbuf_hdralloc</a> (int size)</td></tr>
<tr class="memdesc:gacffe7341cbfe90034e829ea70111203a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extend the header of the packetbuf, for outbound packets.  <a href="#gacffe7341cbfe90034e829ea70111203a">More...</a><br /></td></tr>
<tr class="separator:gacffe7341cbfe90034e829ea70111203a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7d9d402f591a560b5502bc6c8bcbd20"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02510.html#gad7d9d402f591a560b5502bc6c8bcbd20">packetbuf_hdrreduce</a> (int size)</td></tr>
<tr class="memdesc:gad7d9d402f591a560b5502bc6c8bcbd20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reduce the header in the packetbuf, for incoming packets.  <a href="#gad7d9d402f591a560b5502bc6c8bcbd20">More...</a><br /></td></tr>
<tr class="separator:gad7d9d402f591a560b5502bc6c8bcbd20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga236b0d557fe119c39796432484c94b26"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02510.html#ga236b0d557fe119c39796432484c94b26">packetbuf_set_datalen</a> (uint16_t len)</td></tr>
<tr class="memdesc:ga236b0d557fe119c39796432484c94b26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the length of the data in the packetbuf.  <a href="#ga236b0d557fe119c39796432484c94b26">More...</a><br /></td></tr>
<tr class="separator:ga236b0d557fe119c39796432484c94b26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga29a6f3f230b55e6bc2f017879c27113a"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02510.html#ga29a6f3f230b55e6bc2f017879c27113a">packetbuf_dataptr</a> (void)</td></tr>
<tr class="memdesc:ga29a6f3f230b55e6bc2f017879c27113a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the data in the packetbuf.  <a href="#ga29a6f3f230b55e6bc2f017879c27113a">More...</a><br /></td></tr>
<tr class="separator:ga29a6f3f230b55e6bc2f017879c27113a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67c213a97ab9bdadddd90db1df0a3058"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02510.html#ga67c213a97ab9bdadddd90db1df0a3058">packetbuf_hdrptr</a> (void)</td></tr>
<tr class="memdesc:ga67c213a97ab9bdadddd90db1df0a3058"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the header in the packetbuf, for outbound packets.  <a href="#ga67c213a97ab9bdadddd90db1df0a3058">More...</a><br /></td></tr>
<tr class="separator:ga67c213a97ab9bdadddd90db1df0a3058"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4a1157b882c15f5ea05d64f81d37115d"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02510.html#ga4a1157b882c15f5ea05d64f81d37115d">packetbuf_datalen</a> (void)</td></tr>
<tr class="memdesc:ga4a1157b882c15f5ea05d64f81d37115d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the length of the data in the packetbuf.  <a href="#ga4a1157b882c15f5ea05d64f81d37115d">More...</a><br /></td></tr>
<tr class="separator:ga4a1157b882c15f5ea05d64f81d37115d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga591ff8749c8a62c45f4a32e38303ce5f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02510.html#ga591ff8749c8a62c45f4a32e38303ce5f">packetbuf_hdrlen</a> (void)</td></tr>
<tr class="memdesc:ga591ff8749c8a62c45f4a32e38303ce5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the length of the header in the packetbuf.  <a href="#ga591ff8749c8a62c45f4a32e38303ce5f">More...</a><br /></td></tr>
<tr class="separator:ga591ff8749c8a62c45f4a32e38303ce5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3cc486f4d4f837db11c6376bee07ebcb"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02510.html#ga3cc486f4d4f837db11c6376bee07ebcb">packetbuf_totlen</a> (void)</td></tr>
<tr class="memdesc:ga3cc486f4d4f837db11c6376bee07ebcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total length of the header and data in the packetbuf.  <a href="#ga3cc486f4d4f837db11c6376bee07ebcb">More...</a><br /></td></tr>
<tr class="separator:ga3cc486f4d4f837db11c6376bee07ebcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc0ca57d2d31065c0f22837dd09c4e6d"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02510.html#gafc0ca57d2d31065c0f22837dd09c4e6d">packetbuf_remaininglen</a> (void)</td></tr>
<tr class="memdesc:gafc0ca57d2d31065c0f22837dd09c4e6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total length of the remaining space in the packetbuf.  <a href="#gafc0ca57d2d31065c0f22837dd09c4e6d">More...</a><br /></td></tr>
<tr class="separator:gafc0ca57d2d31065c0f22837dd09c4e6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaace1fdbc02444a06c58aa379b44111aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02510.html#gaace1fdbc02444a06c58aa379b44111aa">packetbuf_holds_broadcast</a> (void)</td></tr>
<tr class="memdesc:gaace1fdbc02444a06c58aa379b44111aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the current packet is a broadcast.  <a href="#gaace1fdbc02444a06c58aa379b44111aa">More...</a><br /></td></tr>
<tr class="separator:gaace1fdbc02444a06c58aa379b44111aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The packetbuf module does Rime's buffer management. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaa540c9abf0db13d27881b616f7794824"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void packetbuf_clear </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clear and reset the packetbuf. </p>
<p>This function clears the packetbuf and resets all internal state pointers (header size, header pointer, external data pointer). It is used before preparing a packet in the packetbuf. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="a00020.html#a13">example-collect.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="a00852_source.html#l00076">76</a> of file <a class="el" href="a00852_source.html">packetbuf.c</a>.</p>

<p>Referenced by <a class="el" href="a00822_source.html#l00193">mac_task()</a>, <a class="el" href="a02005_source.html#l00472">main()</a>, <a class="el" href="a02317_source.html#l00524">mrf24j40_init()</a>, <a class="el" href="a00758_source.html#l01275">output()</a>, <a class="el" href="a00852_source.html#l00085">packetbuf_copyfrom()</a>, <a class="el" href="a01461_source.html#l01020">PROCESS_THREAD()</a>, <a class="el" href="a00876_source.html#l00677">retransmit_current_packet()</a>, <a class="el" href="a01611_source.html#l00529">rf_core_primary_mode_restore()</a>, <a class="el" href="a01795_source.html#l00757">ST_RadioDataPendingLongIdIsrCallback()</a>, and <a class="el" href="a00876_source.html#l00406">update_rtmetric()</a>.</p>

</div>
</div>
<a class="anchor" id="ga39a862c119717560e224923801c1fa2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void packetbuf_compact </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compact the packetbuf. </p>
<p>This function compacts the packetbuf by copying the data portion of the packetbuf so that becomes consecutive to the header.</p>
<p>This function is called by the Rime code before a packet is to be sent by a device driver. This assures that the entire packet is consecutive in memory. </p>

<p>Definition at line <a class="el" href="a00852_source.html#l00097">97</a> of file <a class="el" href="a00852_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00852_source.html#l00176">packetbuf_hdrlen()</a>.</p>

</div>
</div>
<a class="anchor" id="ga5fd9cb98f800733b6d9381bce81cd224"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int packetbuf_copyfrom </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy from external data into the packetbuf. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">from</td><td>A pointer to the data from which to copy </td></tr>
    <tr><td class="paramname">len</td><td>The size of the data to copy </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>number of bytes that was copied into the packetbuf <pre class="fragment">        This function copies data from a pointer into the
        packetbuf. If the data that is to be copied is larger
        than the packetbuf, only the data that fits in the
        packetbuf is copied. The number of bytes that could be
        copied into the rimbuf is returned.</pre> </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="a00018.html#a15">example-broadcast.c</a>, <a class="el" href="a00022.html#a3">example-mesh.c</a>, <a class="el" href="a00024.html#a26">example-multihop.c</a>, <a class="el" href="a00032.html#a23">example-runicast.c</a>, <a class="el" href="a00034.html#a8">example-trickle.c</a>, and <a class="el" href="a00036.html#a13">example-unicast.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="a00852_source.html#l00085">85</a> of file <a class="el" href="a00852_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00852_source.html#l00076">packetbuf_clear()</a>, and <a class="el" href="a00853_source.html#l00066">PACKETBUF_SIZE</a>.</p>

<p>Referenced by <a class="el" href="a01764_source.html#l00169">ble_mac_ipsp_evt_handler_irq()</a>, and <a class="el" href="a00822_source.html#l00193">mac_task()</a>.</p>

</div>
</div>
<a class="anchor" id="gacad3b92ca8f9ce7845b6c490ba9f05bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int packetbuf_copyto </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>to</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy the entire packetbuf to an external buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">to</td><td>A pointer to the buffer to which the data is to be copied </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">The</td><td>number of bytes that was copied to the external buffer <pre class="fragment">        This function copies the packetbuf to an external
        buffer. Both the data portion and the header portion of
        the packetbuf is copied.

        The external buffer to which the packetbuf is to be
        copied must be able to accomodate at least
        PACKETBUF_SIZE bytes. The number of
        bytes that was copied to the external buffer is
        returned.</pre> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00852_source.html#l00111">111</a> of file <a class="el" href="a00852_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00852_source.html#l00158">packetbuf_dataptr()</a>, <a class="el" href="a00852_source.html#l00164">packetbuf_hdrptr()</a>, and <a class="el" href="a00853_source.html#l00066">PACKETBUF_SIZE</a>.</p>

</div>
</div>
<a class="anchor" id="ga4a1157b882c15f5ea05d64f81d37115d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t packetbuf_datalen </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the length of the data in the packetbuf. </p>
<dl class="section return"><dt>Returns</dt><dd>Length of the data in the packetbuf </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="a00020.html#a1">example-collect.c</a>, and <a class="el" href="a00022.html#a1">example-mesh.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="a00852_source.html#l00170">170</a> of file <a class="el" href="a00852_source.html">packetbuf.c</a>.</p>

<p>Referenced by <a class="el" href="a00801_source.html#l00067">create_frame()</a>, <a class="el" href="a00758_source.html#l01503">input()</a>, <a class="el" href="a00852_source.html#l00182">packetbuf_totlen()</a>, <a class="el" href="a00876_source.html#l00677">retransmit_current_packet()</a>, <a class="el" href="a00821_source.html#l00097">send_packet()</a>, <a class="el" href="a01764_source.html#l00294">send_to_peer()</a>, <a class="el" href="a00822_source.html#l00396">sicslowmac_dataRequest()</a>, and <a class="el" href="a00758_source.html#l00956">uncompress_hdr_iphc()</a>.</p>

</div>
</div>
<a class="anchor" id="ga29a6f3f230b55e6bc2f017879c27113a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * packetbuf_dataptr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the data in the packetbuf. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the packetbuf data <pre class="fragment">        This function is used to get a pointer to the data in
        the packetbuf. The data is either stored in the packetbuf,
        or referenced to an external location.</pre> </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="a00018.html#a1">example-broadcast.c</a>, <a class="el" href="a00020.html#a2">example-collect.c</a>, <a class="el" href="a00022.html#a2">example-mesh.c</a>, <a class="el" href="a00024.html#a14">example-multihop.c</a>, and <a class="el" href="a00034.html#a2">example-trickle.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="a00852_source.html#l00158">158</a> of file <a class="el" href="a00852_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00852_source.html#l00176">packetbuf_hdrlen()</a>.</p>

<p>Referenced by <a class="el" href="a00801_source.html#l00067">create_frame()</a>, <a class="el" href="a00758_source.html#l01503">input()</a>, <a class="el" href="a02005_source.html#l00472">main()</a>, <a class="el" href="a02317_source.html#l00524">mrf24j40_init()</a>, <a class="el" href="a00758_source.html#l01275">output()</a>, <a class="el" href="a00852_source.html#l00111">packetbuf_copyto()</a>, <a class="el" href="a01461_source.html#l01020">PROCESS_THREAD()</a>, <a class="el" href="a00876_source.html#l00677">retransmit_current_packet()</a>, <a class="el" href="a01611_source.html#l00529">rf_core_primary_mode_restore()</a>, <a class="el" href="a00821_source.html#l00097">send_packet()</a>, <a class="el" href="a00876_source.html#l00569">send_queued_packet()</a>, <a class="el" href="a01764_source.html#l00294">send_to_peer()</a>, <a class="el" href="a00822_source.html#l00396">sicslowmac_dataRequest()</a>, and <a class="el" href="a01795_source.html#l00757">ST_RadioDataPendingLongIdIsrCallback()</a>.</p>

</div>
</div>
<a class="anchor" id="gacffe7341cbfe90034e829ea70111203a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int packetbuf_hdralloc </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Extend the header of the packetbuf, for outbound packets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The number of bytes the header should be extended </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Non-zero</td><td>if the header could be extended, zero otherwise <pre class="fragment">        This function is used to allocate extra space in the
        header portion in the packetbuf, when preparing outbound
        packets for transmission. If the function is unable to
        allocate sufficient header space, the function returns
        zero and does not allocate anything.</pre> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00852_source.html#l00122">122</a> of file <a class="el" href="a00852_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00853_source.html#l00066">PACKETBUF_SIZE</a>, and <a class="el" href="a00852_source.html#l00182">packetbuf_totlen()</a>.</p>

<p>Referenced by <a class="el" href="a00801_source.html#l00067">create_frame()</a>, <a class="el" href="a00876_source.html#l01184">retransmit_callback()</a>, <a class="el" href="a00821_source.html#l00097">send_packet()</a>, and <a class="el" href="a00876_source.html#l00406">update_rtmetric()</a>.</p>

</div>
</div>
<a class="anchor" id="ga591ff8749c8a62c45f4a32e38303ce5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t packetbuf_hdrlen </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the length of the header in the packetbuf. </p>
<dl class="section return"><dt>Returns</dt><dd>Length of the header in the packetbuf </dd></dl>

<p>Definition at line <a class="el" href="a00852_source.html#l00176">176</a> of file <a class="el" href="a00852_source.html">packetbuf.c</a>.</p>

<p>Referenced by <a class="el" href="a00852_source.html#l00097">packetbuf_compact()</a>, <a class="el" href="a00852_source.html#l00158">packetbuf_dataptr()</a>, and <a class="el" href="a00852_source.html#l00182">packetbuf_totlen()</a>.</p>

</div>
</div>
<a class="anchor" id="ga67c213a97ab9bdadddd90db1df0a3058"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * packetbuf_hdrptr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to the header in the packetbuf, for outbound packets. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the packetbuf header </dd></dl>

<p>Definition at line <a class="el" href="a00852_source.html#l00164">164</a> of file <a class="el" href="a00852_source.html">packetbuf.c</a>.</p>

<p>Referenced by <a class="el" href="a00801_source.html#l00067">create_frame()</a>, <a class="el" href="a02005_source.html#l00472">main()</a>, <a class="el" href="a00852_source.html#l00111">packetbuf_copyto()</a>, and <a class="el" href="a00821_source.html#l00097">send_packet()</a>.</p>

</div>
</div>
<a class="anchor" id="gad7d9d402f591a560b5502bc6c8bcbd20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int packetbuf_hdrreduce </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reduce the header in the packetbuf, for incoming packets. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>The number of bytes the header should be reduced </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Non-zero</td><td>if the header could be reduced, zero otherwise <pre class="fragment">        This function is used to remove the first part of the
        header in the packetbuf, when processing incoming
        packets. If the function is unable to remove the
        requested amount of header space, the function returns
        zero and does not allocate anything.</pre> </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00852_source.html#l00139">139</a> of file <a class="el" href="a00852_source.html">packetbuf.c</a>.</p>

<p>Referenced by <a class="el" href="a00801_source.html#l00067">create_frame()</a>, <a class="el" href="a00876_source.html#l00677">retransmit_current_packet()</a>, and <a class="el" href="a00821_source.html#l00097">send_packet()</a>.</p>

</div>
</div>
<a class="anchor" id="gaace1fdbc02444a06c58aa379b44111aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int packetbuf_holds_broadcast </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether the current packet is a broadcast. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>iff current packet is not a broadcast </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00852_source.html#l00248">248</a> of file <a class="el" href="a00852_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00768_source.html#l00123">addr</a>, <a class="el" href="a00777_source.html#l00069">linkaddr_cmp()</a>, and <a class="el" href="a02242_source.html#l00039">linkaddr_null</a>.</p>

<p>Referenced by <a class="el" href="a00801_source.html#l00067">create_frame()</a>, <a class="el" href="a02095_source.html#l00475">mac_LowpanToEthernet()</a>, <a class="el" href="a00821_source.html#l00097">send_packet()</a>, <a class="el" href="a00822_source.html#l00396">sicslowmac_dataRequest()</a>, and <a class="el" href="a02095_source.html#l00935">slide()</a>.</p>

</div>
</div>
<a class="anchor" id="gafc0ca57d2d31065c0f22837dd09c4e6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t packetbuf_remaininglen </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the total length of the remaining space in the packetbuf. </p>
<dl class="section return"><dt>Returns</dt><dd>Length of the remaining space in the packetbuf </dd></dl>

<p>Definition at line <a class="el" href="a00852_source.html#l00188">188</a> of file <a class="el" href="a00852_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00768_source.html#l00123">addr</a>, <a class="el" href="a00777_source.html#l00063">linkaddr_copy()</a>, <a class="el" href="a02242_source.html#l00039">linkaddr_null</a>, <a class="el" href="a00853_source.html#l00066">PACKETBUF_SIZE</a>, and <a class="el" href="a00852_source.html#l00182">packetbuf_totlen()</a>.</p>

</div>
</div>
<a class="anchor" id="ga236b0d557fe119c39796432484c94b26"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void packetbuf_set_datalen </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>len</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the length of the data in the packetbuf. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">len</td><td>The length of the data </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="a00020.html#a14">example-collect.c</a>.</dd>
</dl>
<p>Definition at line <a class="el" href="a00852_source.html#l00151">151</a> of file <a class="el" href="a00852_source.html">packetbuf.c</a>.</p>

<p>Referenced by <a class="el" href="a00822_source.html#l00193">mac_task()</a>, <a class="el" href="a02005_source.html#l00472">main()</a>, <a class="el" href="a02317_source.html#l00524">mrf24j40_init()</a>, <a class="el" href="a00758_source.html#l01275">output()</a>, <a class="el" href="a01461_source.html#l01020">PROCESS_THREAD()</a>, <a class="el" href="a00876_source.html#l00677">retransmit_current_packet()</a>, <a class="el" href="a01611_source.html#l00529">rf_core_primary_mode_restore()</a>, and <a class="el" href="a01795_source.html#l00757">ST_RadioDataPendingLongIdIsrCallback()</a>.</p>

</div>
</div>
<a class="anchor" id="ga3cc486f4d4f837db11c6376bee07ebcb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t packetbuf_totlen </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the total length of the header and data in the packetbuf. </p>
<dl class="section return"><dt>Returns</dt><dd>Length of data and header in the packetbuf </dd></dl>

<p>Definition at line <a class="el" href="a00852_source.html#l00182">182</a> of file <a class="el" href="a00852_source.html">packetbuf.c</a>.</p>

<p>References <a class="el" href="a00852_source.html#l00170">packetbuf_datalen()</a>, and <a class="el" href="a00852_source.html#l00176">packetbuf_hdrlen()</a>.</p>

<p>Referenced by <a class="el" href="a00801_source.html#l00067">create_frame()</a>, <a class="el" href="a00852_source.html#l00122">packetbuf_hdralloc()</a>, <a class="el" href="a00852_source.html#l00188">packetbuf_remaininglen()</a>, and <a class="el" href="a00821_source.html#l00097">send_packet()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Mar 11 2022 12:06:08 for Contiki 3.x by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
