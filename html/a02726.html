<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Contiki 3.x: System Timer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Contiki 3.x
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a02726.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">System Timer<div class="ingroups"><a class="el" href="a02832.html">Contiki CPUs</a> &raquo; <a class="el" href="a02835.html">STM32W108</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions that provide access to the system clock.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab8bb7d0e22667305490fd27303d5219a"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02726.html#gab8bb7d0e22667305490fd27303d5219a">halInternalStartSystemTimer</a> (void)</td></tr>
<tr class="memdesc:gab8bb7d0e22667305490fd27303d5219a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the system tick.  <a href="#gab8bb7d0e22667305490fd27303d5219a">More...</a><br /></td></tr>
<tr class="separator:gab8bb7d0e22667305490fd27303d5219a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa4ce0f9db9c950bd2272a9e743e77b2a"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02726.html#gaa4ce0f9db9c950bd2272a9e743e77b2a">halCommonGetInt16uMillisecondTick</a> (void)</td></tr>
<tr class="memdesc:gaa4ce0f9db9c950bd2272a9e743e77b2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current system time in system ticks, as a 16-bit value.  <a href="#gaa4ce0f9db9c950bd2272a9e743e77b2a">More...</a><br /></td></tr>
<tr class="separator:gaa4ce0f9db9c950bd2272a9e743e77b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga101df18226c9ce0301dcbf9639f81882"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02726.html#ga101df18226c9ce0301dcbf9639f81882">halCommonGetInt32uMillisecondTick</a> (void)</td></tr>
<tr class="memdesc:ga101df18226c9ce0301dcbf9639f81882"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current system time in system ticks, as a 32-bit value.  <a href="#ga101df18226c9ce0301dcbf9639f81882">More...</a><br /></td></tr>
<tr class="separator:ga101df18226c9ce0301dcbf9639f81882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0eb4747c5d71ab6c4a5721c478df8131"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02726.html#ga0eb4747c5d71ab6c4a5721c478df8131">halCommonGetInt16uQuarterSecondTick</a> (void)</td></tr>
<tr class="memdesc:ga0eb4747c5d71ab6c4a5721c478df8131"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current system time in quarter second ticks, as a 16-bit value.  <a href="#ga0eb4747c5d71ab6c4a5721c478df8131">More...</a><br /></td></tr>
<tr class="separator:ga0eb4747c5d71ab6c4a5721c478df8131"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions that provide access to the system clock. </p>
<p>A single system tick (as returned by <a class="el" href="a02726.html#gaa4ce0f9db9c950bd2272a9e743e77b2a" title="Returns the current system time in system ticks, as a 16-bit value. ">halCommonGetInt16uMillisecondTick()</a> and <a class="el" href="a02726.html#ga101df18226c9ce0301dcbf9639f81882" title="Returns the current system time in system ticks, as a 32-bit value. ">halCommonGetInt32uMillisecondTick()</a> ) is approximately 1 millisecond.</p>
<ul>
<li>When used with a 32.768kHz crystal, the system tick is 0.976 milliseconds.</li>
<li>When used with a 3.6864MHz crystal, the system tick is 1.111 milliseconds.</li>
</ul>
<p>A single quarter-second tick (as returned by <a class="el" href="a02726.html#ga0eb4747c5d71ab6c4a5721c478df8131" title="Returns the current system time in quarter second ticks, as a 16-bit value. ">halCommonGetInt16uQuarterSecondTick()</a> ) is approximately 0.25 seconds.</p>
<p>The values used by the time support functions will wrap after an interval. The length of the interval depends on the length of the tick and the number of bits in the value. However, there is no issue when comparing time deltas of less than half this interval with a subtraction, if all data types are the same.</p>
<p>See <a class="el" href="a01878.html" title="Header file for system_timer APIs. ">system-timer.h</a> for source code. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaa4ce0f9db9c950bd2272a9e743e77b2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t halCommonGetInt16uMillisecondTick </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current system time in system ticks, as a 16-bit value. </p>
<dl class="section return"><dt>Returns</dt><dd>The least significant 16 bits of the current system time, in system ticks.</dd></dl>
<p>Returns the current system time in system ticks, as a 16-bit value.</p>
<p>With 1024 clock ticks per second, a single clock tick occurs every 0.9769625 milliseconds, and a rollover of the 16-bit timer occurs every 64 seconds. </p>

<p>Definition at line <a class="el" href="a01864_source.html#l00035">35</a> of file <a class="el" href="a01864_source.html">system-timer.c</a>.</p>

<p>References <a class="el" href="a01864_source.html#l00050">halCommonGetInt32uMillisecondTick()</a>.</p>

</div>
</div>
<a class="anchor" id="ga0eb4747c5d71ab6c4a5721c478df8131"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t halCommonGetInt16uQuarterSecondTick </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current system time in quarter second ticks, as a 16-bit value. </p>
<p>nostackusage</p>
<dl class="section return"><dt>Returns</dt><dd>The least significant 16 bits of the current system time, in system ticks multiplied by 256. </dd></dl>

<p>Definition at line <a class="el" href="a01864_source.html#l00040">40</a> of file <a class="el" href="a01864_source.html">system-timer.c</a>.</p>

<p>References <a class="el" href="a01864_source.html#l00050">halCommonGetInt32uMillisecondTick()</a>.</p>

</div>
</div>
<a class="anchor" id="ga101df18226c9ce0301dcbf9639f81882"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t halCommonGetInt32uMillisecondTick </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current system time in system ticks, as a 32-bit value. </p>
<p>nostackusage</p>
<dl class="section return"><dt>Returns</dt><dd>The least significant 32 bits of the current system time, in system ticks.</dd></dl>
<p>Returns the current system time in system ticks, as a 32-bit value.</p>
<p>With 1024 clock ticks per second, a single clock tick occurs every 0.9769625 milliseconds, and a rollover of the 32-bit timer occurs approximately every 48.5 days. </p>

<p>Definition at line <a class="el" href="a01864_source.html#l00050">50</a> of file <a class="el" href="a01864_source.html">system-timer.c</a>.</p>

<p>References <a class="el" href="a01845_source.html#l00459">ATOMIC</a>, <a class="el" href="a01872_source.html#l00180">FALSE</a>, <a class="el" href="a01706_source.html#l00848">halSleepWithOptions()</a>, <a class="el" href="a01845_source.html#l00428">INTERRUPTS_ON</a>, <a class="el" href="a01876_source.html#l00099">SLEEPMODE_WAKETIMER</a>, <a class="el" href="a01831_source.html#l00723">ST_SLEEP_INTERRUPTED</a>, <a class="el" href="a01831_source.html#l00045">ST_SUCCESS</a>, and <a class="el" href="a01872_source.html#l00175">TRUE</a>.</p>

<p>Referenced by <a class="el" href="a01864_source.html#l00035">halCommonGetInt16uMillisecondTick()</a>, and <a class="el" href="a01864_source.html#l00040">halCommonGetInt16uQuarterSecondTick()</a>.</p>

</div>
</div>
<a class="anchor" id="gab8bb7d0e22667305490fd27303d5219a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t halInternalStartSystemTimer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the system tick. </p>
<dl class="section return"><dt>Returns</dt><dd>Time to update the async registers after RTC is started (units of 100 microseconds). </dd></dl>
<p>ENABLE_OSC32K </p>

<p>Definition at line <a class="el" href="a01857_source.html#l00074">74</a> of file <a class="el" href="a01857_source.html">micro-common.c</a>.</p>

<p>References <a class="el" href="a01844_source.html#l00060">halInternalCalibrateSlowRc()</a>.</p>

<p>Referenced by <a class="el" href="a01858_source.html#l00023">halInit()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Mar 11 2022 12:06:08 for Contiki 3.x by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
