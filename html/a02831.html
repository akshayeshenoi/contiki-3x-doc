<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Contiki 3.x: RE-Mote power management driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Contiki 3.x
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a02831.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a>  </div>
  <div class="headertitle">
<div class="title">RE-Mote power management driver<div class="ingroups"><a class="el" href="a02799.html">Remote</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Driver control the power management of the RE-Mote rev B platform.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:a02484"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02484.html">power-mgmt.h</a></td></tr>
<tr class="memdesc:a02484"><td class="mdescLeft">&#160;</td><td class="mdescRight">Header file for the RE-Mote Power Management driver. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02484"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02484.html">power-mgmt.h</a></td></tr>
<tr class="memdesc:a02484"><td class="mdescLeft">&#160;</td><td class="mdescRight">Header file for the RE-Mote Power Management driver. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Power management controller</h2></td></tr>
<tr class="memitem:ga101201eb63fa7cbfc318ec8868ec8260"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga101201eb63fa7cbfc318ec8868ec8260"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02831.html#ga101201eb63fa7cbfc318ec8868ec8260">PWR_MNGMT_ADDR</a>&#160;&#160;&#160;0x7F</td></tr>
<tr class="memdesc:ga101201eb63fa7cbfc318ec8868ec8260"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power Management slave address. <br /></td></tr>
<tr class="separator:ga101201eb63fa7cbfc318ec8868ec8260"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Power Management return values</h2></td></tr>
<tr class="memitem:gaddf49f5fed3274da72c23555bd623a3a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaddf49f5fed3274da72c23555bd623a3a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_SUCCESS</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:gaddf49f5fed3274da72c23555bd623a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f3b3eaf831fde7ba36cdf5ff153fe42"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga6f3b3eaf831fde7ba36cdf5ff153fe42"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_ERROR</b>&#160;&#160;&#160;(-1)</td></tr>
<tr class="separator:ga6f3b3eaf831fde7ba36cdf5ff153fe42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Power Management Registers</h2></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Power Management status and masks</h2></td></tr>
<tr class="memitem:ga5de6e00d7bf52e3c1ddb31ee83028f95"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5de6e00d7bf52e3c1ddb31ee83028f95"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_ENABLE</b>&#160;&#160;&#160;1    /* Pin <a class="el" href="a02782.html#ga13ec8fa3710e1f3f5937b97712fa9ab8">status</a> on */</td></tr>
<tr class="separator:ga5de6e00d7bf52e3c1ddb31ee83028f95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafaf22c0aa382597f004d186ae51eee0a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gafaf22c0aa382597f004d186ae51eee0a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_DISABLE</b>&#160;&#160;&#160;0    /* Pin <a class="el" href="a02782.html#ga13ec8fa3710e1f3f5937b97712fa9ab8">status</a> off */</td></tr>
<tr class="separator:gafaf22c0aa382597f004d186ae51eee0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa813f61aef67b702ebb50abd94bc9c38"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaa813f61aef67b702ebb50abd94bc9c38"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BATT_CHARGED_VAL</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:gaa813f61aef67b702ebb50abd94bc9c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f5e5d4acb1917bc71a11f185c360953"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2f5e5d4acb1917bc71a11f185c360953"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>BATT_UNCHARGED_VAL</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga2f5e5d4acb1917bc71a11f185c360953"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8b4cb92415f9458f70179fd4cc0e3e5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab8b4cb92415f9458f70179fd4cc0e3e5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_REFERENCE_INTERNAL</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:gab8b4cb92415f9458f70179fd4cc0e3e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga129a4d3977380436137d929aca760267"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga129a4d3977380436137d929aca760267"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_REFERENCE_EXTERNAL</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga129a4d3977380436137d929aca760267"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c7f1aec19a17e422e30172a47884f99"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga2c7f1aec19a17e422e30172a47884f99"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_SOFT_SHTDN_INTERVAL</b>&#160;&#160;&#160;5720</td></tr>
<tr class="separator:ga2c7f1aec19a17e422e30172a47884f99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac9a5fcd64d225c235491489dc5d4abae"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac9a5fcd64d225c235491489dc5d4abae"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_SOFT_SHTDN_0_5_SEC</b>&#160;&#160;&#160;8</td></tr>
<tr class="separator:gac9a5fcd64d225c235491489dc5d4abae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gade31f64d41933fd52fd1689e446314d4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gade31f64d41933fd52fd1689e446314d4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_SOFT_SHTDN_1_SEC</b>&#160;&#160;&#160;17</td></tr>
<tr class="separator:gade31f64d41933fd52fd1689e446314d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga64b6e6f47a415f077f510687931f37d3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga64b6e6f47a415f077f510687931f37d3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_SOFT_SHTDN_1_4_SEC</b>&#160;&#160;&#160;25</td></tr>
<tr class="separator:ga64b6e6f47a415f077f510687931f37d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70a89759d3a350d15d76c39cf61ce324"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga70a89759d3a350d15d76c39cf61ce324"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_SOFT_SHTDN_5_7_SEC</b>&#160;&#160;&#160;100</td></tr>
<tr class="separator:ga70a89759d3a350d15d76c39cf61ce324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f6d8da2bea394b25686713015815930"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4f6d8da2bea394b25686713015815930"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_SOFT_SHTDN_30_SEC</b>&#160;&#160;&#160;524</td></tr>
<tr class="separator:ga4f6d8da2bea394b25686713015815930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga766c9c1424ac7669fbecb1bd51d51d25"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga766c9c1424ac7669fbecb1bd51d51d25"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_SOFT_SHTDN_1_MIN</b>&#160;&#160;&#160;1049</td></tr>
<tr class="separator:ga766c9c1424ac7669fbecb1bd51d51d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4657a7e0c7f802236fdf0208b583277d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4657a7e0c7f802236fdf0208b583277d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_SOFT_SHTDN_5_MIN</b>&#160;&#160;&#160;5245</td></tr>
<tr class="separator:ga4657a7e0c7f802236fdf0208b583277d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8603b6c4d1c793c088d1040ec2955bcf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga8603b6c4d1c793c088d1040ec2955bcf"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_SOFT_SHTDN_10_MIN</b>&#160;&#160;&#160;10490</td></tr>
<tr class="separator:ga8603b6c4d1c793c088d1040ec2955bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a26920fd547d1e60c45c53bbadd2678"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1a26920fd547d1e60c45c53bbadd2678"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_SOFT_SHTDN_1_H</b>&#160;&#160;&#160;62937</td></tr>
<tr class="separator:ga1a26920fd547d1e60c45c53bbadd2678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46335e71d3cc5c152427209b3652f773"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga46335e71d3cc5c152427209b3652f773"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_SOFT_SHTDN_24_H</b>&#160;&#160;&#160;1510490</td></tr>
<tr class="separator:ga46335e71d3cc5c152427209b3652f773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3483a654504400d2d7ea3d005ed0d1b2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga3483a654504400d2d7ea3d005ed0d1b2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_SOFT_SHTDN_7_DAYS</b>&#160;&#160;&#160;10573427</td></tr>
<tr class="separator:ga3483a654504400d2d7ea3d005ed0d1b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab4e4031c2347a3c3df4e4a73ce12f7d2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gab4e4031c2347a3c3df4e4a73ce12f7d2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_SOFT_SHTDN_14_DAYS</b>&#160;&#160;&#160;21146853</td></tr>
<tr class="separator:gab4e4031c2347a3c3df4e4a73ce12f7d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ce04ccc75f30591dd9042e87e9e2e1f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga4ce04ccc75f30591dd9042e87e9e2e1f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_SOFT_SHTDN_28_DAYS</b>&#160;&#160;&#160;42383709</td></tr>
<tr class="separator:ga4ce04ccc75f30591dd9042e87e9e2e1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5911b958edd85b19d59293969c8076eb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5911b958edd85b19d59293969c8076eb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PM_SOFT_SHTDN_TEST</b>&#160;&#160;&#160;0xCC00FFEE</td></tr>
<tr class="separator:ga5911b958edd85b19d59293969c8076eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Power Management functions</h2></td></tr>
<tr class="memitem:ga9778b3a0a3c74613f764fbe9f812c9d5"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02831.html#ga9778b3a0a3c74613f764fbe9f812c9d5">pm_enable</a> (void)</td></tr>
<tr class="memdesc:ga9778b3a0a3c74613f764fbe9f812c9d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the Power Management driver.  <a href="#ga9778b3a0a3c74613f764fbe9f812c9d5">More...</a><br /></td></tr>
<tr class="separator:ga9778b3a0a3c74613f764fbe9f812c9d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c8a8a927bd5449b8142e76f61b069b2"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02831.html#ga5c8a8a927bd5449b8142e76f61b069b2">pm_reset_system</a> (void)</td></tr>
<tr class="memdesc:ga5c8a8a927bd5449b8142e76f61b069b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restarts the on-board low-power PIC, provoking a board reset.  <a href="#ga5c8a8a927bd5449b8142e76f61b069b2">More...</a><br /></td></tr>
<tr class="separator:ga5c8a8a927bd5449b8142e76f61b069b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac7a61ee06b0a54d42be3a8a5de91040e"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02831.html#gac7a61ee06b0a54d42be3a8a5de91040e">pm_set_timeout</a> (uint32_t time)</td></tr>
<tr class="memdesc:gac7a61ee06b0a54d42be3a8a5de91040e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure Internal Timeout for Hard and Soft shutdown modes.  <a href="#gac7a61ee06b0a54d42be3a8a5de91040e">More...</a><br /></td></tr>
<tr class="separator:gac7a61ee06b0a54d42be3a8a5de91040e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0a2ae0d2f8bd754524a1ecd39ac1c378"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02831.html#ga0a2ae0d2f8bd754524a1ecd39ac1c378">pm_get_timeout</a> (void)</td></tr>
<tr class="memdesc:ga0a2ae0d2f8bd754524a1ecd39ac1c378"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current timeout value configured in power management module.  <a href="#ga0a2ae0d2f8bd754524a1ecd39ac1c378">More...</a><br /></td></tr>
<tr class="separator:ga0a2ae0d2f8bd754524a1ecd39ac1c378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab6c28530746f22d0dc9f9b852f95a165"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02831.html#gab6c28530746f22d0dc9f9b852f95a165">pm_get_num_cycles</a> (void)</td></tr>
<tr class="memdesc:gab6c28530746f22d0dc9f9b852f95a165"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets current cycles.  <a href="#gab6c28530746f22d0dc9f9b852f95a165">More...</a><br /></td></tr>
<tr class="separator:gab6c28530746f22d0dc9f9b852f95a165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabfdd20c20c0a51b1a3f47d0b93e30b38"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02831.html#gabfdd20c20c0a51b1a3f47d0b93e30b38">pm_shutdown_now</a> (uint8_t type)</td></tr>
<tr class="memdesc:gabfdd20c20c0a51b1a3f47d0b93e30b38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnects the board battery and enter shutdown mode PM_SOFT/HARD_SLEEP_CONFIG.  <a href="#gabfdd20c20c0a51b1a3f47d0b93e30b38">More...</a><br /></td></tr>
<tr class="separator:gabfdd20c20c0a51b1a3f47d0b93e30b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3685be09d2ff9291e692a224e32eddab"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02831.html#ga3685be09d2ff9291e692a224e32eddab">pm_get_voltage</a> (uint16_t *state)</td></tr>
<tr class="memdesc:ga3685be09d2ff9291e692a224e32eddab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the voltage of the external battery if connected to VIN pin.  <a href="#ga3685be09d2ff9291e692a224e32eddab">More...</a><br /></td></tr>
<tr class="separator:ga3685be09d2ff9291e692a224e32eddab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab470f14f32b531c2c0bbe5204eab944d"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02831.html#gab470f14f32b531c2c0bbe5204eab944d">pm_get_fw_ver</a> (uint8_t *fwver)</td></tr>
<tr class="memdesc:gab470f14f32b531c2c0bbe5204eab944d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current firmware version of power management module.  <a href="#gab470f14f32b531c2c0bbe5204eab944d">More...</a><br /></td></tr>
<tr class="separator:gab470f14f32b531c2c0bbe5204eab944d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Driver control the power management of the RE-Mote rev B platform. </p>
<p>RE-Mote power management functions.</p>
<p>This driver is an I2C communication with external power manager chip that controls few functions of the board. Note the driver will work if powered both over USB and external battery, but the shutdown mode will only be actually working with external battery</p>
<dl class="section author"><dt>Author</dt><dd>Aitor Mejias <a href="#" onclick="location.href='mai'+'lto:'+'ame'+'ji'+'as@'+'zo'+'ler'+'ti'+'a.c'+'om'; return false;">ameji<span style="display: none;">.nosp@m.</span>as@z<span style="display: none;">.nosp@m.</span>olert<span style="display: none;">.nosp@m.</span>ia.c<span style="display: none;">.nosp@m.</span>om</a> Antonio Lignan <a href="#" onclick="location.href='mai'+'lto:'+'ali'+'na'+'n@z'+'ol'+'ert'+'ia'+'.co'+'m'; return false;">alina<span style="display: none;">.nosp@m.</span>n@zo<span style="display: none;">.nosp@m.</span>lerti<span style="display: none;">.nosp@m.</span>a.co<span style="display: none;">.nosp@m.</span>m</a> </dd></dl>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga9778b3a0a3c74613f764fbe9f812c9d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t pm_enable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the Power Management driver. </p>
<dl class="section return"><dt>Returns</dt><dd>PM_SUCCESS if initialized, else PM_ERROR </dd></dl>

<p>Definition at line <a class="el" href="a02482_source.html#l00074">74</a> of file <a class="el" href="a02482_source.html">power-mgmt.c</a>.</p>

<p>References <a class="el" href="a01278_source.html#l00273">GPIO_SOFTWARE_CONTROL</a>, <a class="el" href="a01487_source.html#l00218">i2c_burst_receive()</a>, <a class="el" href="a01487_source.html#l00188">i2c_burst_send()</a>, <a class="el" href="a01487_source.html#l00049">i2c_init()</a>, <a class="el" href="a01487_source.html#l00159">i2c_single_send()</a>, and <a class="el" href="a02484_source.html#l00061">PWR_MNGMT_ADDR</a>.</p>

</div>
</div>
<a class="anchor" id="gab470f14f32b531c2c0bbe5204eab944d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t pm_get_fw_ver </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>fwver</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current firmware version of power management module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fwver</td><td>pointer to get the value of firmware </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PM_SUCCESS if success, else PM_ERROR </dd></dl>

<p>Definition at line <a class="el" href="a02482_source.html#l00276">276</a> of file <a class="el" href="a02482_source.html">power-mgmt.c</a>.</p>

<p>References <a class="el" href="a01872_source.html#l00186">NULL</a>.</p>

</div>
</div>
<a class="anchor" id="gab6c28530746f22d0dc9f9b852f95a165"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t pm_get_num_cycles </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets current cycles. </p>
<p>incremented each shutdown cycle </p><dl class="section return"><dt>Returns</dt><dd>Number of shutdown cycles </dd></dl>

<p>Definition at line <a class="el" href="a02482_source.html#l00203">203</a> of file <a class="el" href="a02482_source.html">power-mgmt.c</a>.</p>

<p>References <a class="el" href="a01487_source.html#l00218">i2c_burst_receive()</a>, <a class="el" href="a01487_source.html#l00159">i2c_single_send()</a>, and <a class="el" href="a02484_source.html#l00061">PWR_MNGMT_ADDR</a>.</p>

</div>
</div>
<a class="anchor" id="ga0a2ae0d2f8bd754524a1ecd39ac1c378"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t pm_get_timeout </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the current timeout value configured in power management module. </p>
<dl class="section return"><dt>Returns</dt><dd>value with timeout. </dd></dl>

<p>Definition at line <a class="el" href="a02482_source.html#l00180">180</a> of file <a class="el" href="a02482_source.html">power-mgmt.c</a>.</p>

<p>References <a class="el" href="a01487_source.html#l00218">i2c_burst_receive()</a>, <a class="el" href="a01487_source.html#l00159">i2c_single_send()</a>, and <a class="el" href="a02484_source.html#l00061">PWR_MNGMT_ADDR</a>.</p>

</div>
</div>
<a class="anchor" id="ga3685be09d2ff9291e692a224e32eddab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t pm_get_voltage </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the voltage of the external battery if connected to VIN pin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>pointer to get the voltage value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PM_SUCCESS if success, else PM_ERROR </dd></dl>

<p>Definition at line <a class="el" href="a02482_source.html#l00250">250</a> of file <a class="el" href="a02482_source.html">power-mgmt.c</a>.</p>

<p>References <a class="el" href="a01010_source.html#l00094">clock_delay_usec()</a>, <a class="el" href="a01487_source.html#l00218">i2c_burst_receive()</a>, <a class="el" href="a01487_source.html#l00159">i2c_single_send()</a>, and <a class="el" href="a02484_source.html#l00061">PWR_MNGMT_ADDR</a>.</p>

</div>
</div>
<a class="anchor" id="ga5c8a8a927bd5449b8142e76f61b069b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t pm_reset_system </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Restarts the on-board low-power PIC, provoking a board reset. </p>
<dl class="section return"><dt>Returns</dt><dd>PM_SUCCESS if success, else PM_ERROR </dd></dl>

<p>Definition at line <a class="el" href="a02482_source.html#l00128">128</a> of file <a class="el" href="a02482_source.html">power-mgmt.c</a>.</p>

<p>References <a class="el" href="a01010_source.html#l00094">clock_delay_usec()</a>, <a class="el" href="a01487_source.html#l00188">i2c_burst_send()</a>, and <a class="el" href="a02484_source.html#l00061">PWR_MNGMT_ADDR</a>.</p>

</div>
</div>
<a class="anchor" id="gac7a61ee06b0a54d42be3a8a5de91040e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t pm_set_timeout </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure Internal Timeout for Hard and Soft shutdown modes. </p>
<p>In Hard mode, any positive value counts as internal security timeout. In Soft mode, this value is needed. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>value as timeout maximum </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>PM_SUCCESS if success, else PM_ERROR </dd></dl>

<p>Definition at line <a class="el" href="a02482_source.html#l00149">149</a> of file <a class="el" href="a02482_source.html">power-mgmt.c</a>.</p>

<p>References <a class="el" href="a01487_source.html#l00188">i2c_burst_send()</a>, and <a class="el" href="a02484_source.html#l00061">PWR_MNGMT_ADDR</a>.</p>

</div>
</div>
<a class="anchor" id="gabfdd20c20c0a51b1a3f47d0b93e30b38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t pm_shutdown_now </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnects the board battery and enter shutdown mode PM_SOFT/HARD_SLEEP_CONFIG. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Hard shutdown (RTCC based) or soft (PIC-governed) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value byte of the register requested. </dd></dl>

<p>Definition at line <a class="el" href="a02482_source.html#l00223">223</a> of file <a class="el" href="a02482_source.html">power-mgmt.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Mar 11 2022 12:06:09 for Contiki 3.x by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
