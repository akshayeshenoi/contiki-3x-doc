<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Contiki 3.x: uIP device driver functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Contiki 3.x
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a02520.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">uIP device driver functions<div class="ingroups"><a class="el" href="a02847.html">Communication stacks</a> &raquo; <a class="el" href="a02851.html">The uIP TCP/IP stack</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>These functions are used by a network device driver for interacting with uIP.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00160.html">uip_buf_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The uIP packet buffer.  <a href="a00160.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaa4360412ee9350fba725f98a137169fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02520.html#gaa4360412ee9350fba725f98a137169fe">uip_input</a>()</td></tr>
<tr class="memdesc:gaa4360412ee9350fba725f98a137169fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an incoming packet.  <a href="#gaa4360412ee9350fba725f98a137169fe">More...</a><br /></td></tr>
<tr class="separator:gaa4360412ee9350fba725f98a137169fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1024f8a5fa65e82bf848b2e6590d9628"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02520.html#ga1024f8a5fa65e82bf848b2e6590d9628">uip_periodic</a>(conn)</td></tr>
<tr class="memdesc:ga1024f8a5fa65e82bf848b2e6590d9628"><td class="mdescLeft">&#160;</td><td class="mdescRight">Periodic processing for a connection identified by its number.  <a href="#ga1024f8a5fa65e82bf848b2e6590d9628">More...</a><br /></td></tr>
<tr class="separator:ga1024f8a5fa65e82bf848b2e6590d9628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd5ebb56a1bd1da9878aa886a2075e80"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02520.html#gafd5ebb56a1bd1da9878aa886a2075e80">uip_conn_active</a>(conn)&#160;&#160;&#160;(uip_conns[conn].tcpstateflags != UIP_CLOSED)</td></tr>
<tr class="memdesc:gafd5ebb56a1bd1da9878aa886a2075e80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to determine whether a specific uIP connection is active.  <a href="#gafd5ebb56a1bd1da9878aa886a2075e80">More...</a><br /></td></tr>
<tr class="separator:gafd5ebb56a1bd1da9878aa886a2075e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabaf0bb2b6a4424b4eb69e45e457c2583"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02520.html#gabaf0bb2b6a4424b4eb69e45e457c2583">uip_periodic_conn</a>(conn)</td></tr>
<tr class="memdesc:gabaf0bb2b6a4424b4eb69e45e457c2583"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform periodic processing for a connection identified by a pointer to its structure.  <a href="#gabaf0bb2b6a4424b4eb69e45e457c2583">More...</a><br /></td></tr>
<tr class="separator:gabaf0bb2b6a4424b4eb69e45e457c2583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf20aaf4292cb0d2a1b10bc0a568b51fa"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02520.html#gaf20aaf4292cb0d2a1b10bc0a568b51fa">uip_poll_conn</a>(conn)</td></tr>
<tr class="memdesc:gaf20aaf4292cb0d2a1b10bc0a568b51fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request that a particular connection should be polled.  <a href="#gaf20aaf4292cb0d2a1b10bc0a568b51fa">More...</a><br /></td></tr>
<tr class="separator:gaf20aaf4292cb0d2a1b10bc0a568b51fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2c64c8c36bc84f9336f6a2184ea51883"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02520.html#ga2c64c8c36bc84f9336f6a2184ea51883">uip_udp_periodic</a>(conn)</td></tr>
<tr class="memdesc:ga2c64c8c36bc84f9336f6a2184ea51883"><td class="mdescLeft">&#160;</td><td class="mdescRight">Periodic processing for a UDP connection identified by its number.  <a href="#ga2c64c8c36bc84f9336f6a2184ea51883">More...</a><br /></td></tr>
<tr class="separator:ga2c64c8c36bc84f9336f6a2184ea51883"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf5c2ad5acf3cc23b8262e9ba6a15136b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02520.html#gaf5c2ad5acf3cc23b8262e9ba6a15136b">uip_udp_periodic_conn</a>(conn)</td></tr>
<tr class="memdesc:gaf5c2ad5acf3cc23b8262e9ba6a15136b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Periodic processing for a UDP connection identified by a pointer to its structure.  <a href="#gaf5c2ad5acf3cc23b8262e9ba6a15136b">More...</a><br /></td></tr>
<tr class="separator:gaf5c2ad5acf3cc23b8262e9ba6a15136b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd4537a3bf8a16f8f9af3660caf5040a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gacd4537a3bf8a16f8f9af3660caf5040a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02520.html#gacd4537a3bf8a16f8f9af3660caf5040a">uip_buf</a>&#160;&#160;&#160;(uip_aligned_buf.u8)</td></tr>
<tr class="memdesc:gacd4537a3bf8a16f8f9af3660caf5040a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to access uip_aligned_buf as an array of bytes. <br /></td></tr>
<tr class="separator:gacd4537a3bf8a16f8f9af3660caf5040a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf8a01d734ce7c50dd9ef03b2a4e7a0ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02520.html#gaf8a01d734ce7c50dd9ef03b2a4e7a0ce">uip_reass_over</a> (void)</td></tr>
<tr class="memdesc:gaf8a01d734ce7c50dd9ef03b2a4e7a0ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abandon the reassembly of the current packet.  <a href="#gaf8a01d734ce7c50dd9ef03b2a4e7a0ce">More...</a><br /></td></tr>
<tr class="separator:gaf8a01d734ce7c50dd9ef03b2a4e7a0ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga1ff9096f765144168470cfe7ebf75fec"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga1ff9096f765144168470cfe7ebf75fec"></a>
CCIF <a class="el" href="a00160.html">uip_buf_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a02520.html#ga1ff9096f765144168470cfe7ebf75fec">uip_aligned_buf</a></td></tr>
<tr class="memdesc:ga1ff9096f765144168470cfe7ebf75fec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Packet buffer for incoming and outgoing packets. <br /></td></tr>
<tr class="separator:ga1ff9096f765144168470cfe7ebf75fec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These functions are used by a network device driver for interacting with uIP. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gafd5ebb56a1bd1da9878aa886a2075e80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uip_conn_active</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">conn</td><td>)</td>
          <td>&#160;&#160;&#160;(uip_conns[conn].tcpstateflags != UIP_CLOSED)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Macro to determine whether a specific uIP connection is active. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The connection's number </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>Connection closed </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00700_source.html#l00398">398</a> of file <a class="el" href="a00700_source.html">uip.h</a>.</p>

<p>Referenced by <a class="el" href="a00685_source.html#l00352">tcpip_icmp6_call()</a>.</p>

</div>
</div>
<a class="anchor" id="gaa4360412ee9350fba725f98a137169fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uip_input</td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process an incoming packet. </p>
<p>This function should be called when the device driver has received a packet from the network. The packet from the device driver must be present in the uip_buf buffer, and the length of the packet should be placed in the uip_len variable.</p>
<p>When the function returns, there may be an outbound packet placed in the uip_buf packet buffer. If so, the uip_len variable is set to the length of the packet. If no packet is to be sent out, the uip_len variable is set to 0.</p>
<p>The usual way of calling the function is presented by the source code below. </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;uip_len = devicedriver_poll();</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;if(uip_len &gt; 0) {</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;uip_input();</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;if(uip_len &gt; 0) {</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;devicedriver_send();</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;}</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;}</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>If you are writing a uIP device driver that needs ARP (Address Resolution Protocol), e.g., when running uIP over Ethernet, you will need to call the uIP ARP code before calling this function: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;#define BUF ((struct uip_eth_hdr *)&amp;uip_buf[0])</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uip_len = ethernet_devicedrver_poll();</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;if(uip_len &gt; 0) {</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;if(BUF-&gt;type == UIP_HTONS(UIP_ETHTYPE_IP)) {</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;uip_arp_ipin();</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;uip_input();</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;if(uip_len &gt; 0) {</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;uip_arp_out();</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;ethernet_devicedriver_send();</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;}</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;} else if(BUF-&gt;type == UIP_HTONS(UIP_ETHTYPE_ARP)) {</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;uip_arp_arpin();</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;if(uip_len &gt; 0) {</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;ethernet_devicedriver_send();</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;}</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;}</div></div><!-- fragment --> </dd></dl>

<p>Definition at line <a class="el" href="a00700_source.html#l00343">343</a> of file <a class="el" href="a00700_source.html">uip.h</a>.</p>

<p>Referenced by <a class="el" href="a00685_source.html#l00120">tcpip_output()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1024f8a5fa65e82bf848b2e6590d9628"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uip_periodic</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">conn</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Periodic processing for a connection identified by its number. </p>
<p>This function does the necessary periodic processing (timers, polling) for a uIP TCP connection, and should be called when the periodic uIP timer goes off. It should be called for every connection, regardless of whether they are open of closed.</p>
<p>When the function returns, it may have an outbound packet waiting for service in the uIP packet buffer, and if so the uip_len variable is set to a value larger than zero. The device driver should be called to send out the packet.</p>
<p>The usual way of calling the function is through a for() loop like this: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;for(i = 0; i &lt; UIP_CONNS; ++i) {</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uip_periodic(i);</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;if(uip_len &gt; 0) {</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;devicedriver_send();</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;}</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;}</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>If you are writing a uIP device driver that needs ARP (Address Resolution Protocol), e.g., when running uIP over Ethernet, you will need to call the <a class="el" href="a02538.html#ga54b27e45df15e10a0eb1a3e3a91417d2" title="Prepend Ethernet header to an outbound IP packet and see if we need to send out an ARP request...">uip_arp_out()</a> function before calling the device driver: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;for(i = 0; i &lt; UIP_CONNS; ++i) {</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uip_periodic(i);</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;if(uip_len &gt; 0) {</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;uip_arp_out();</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;ethernet_devicedriver_send();</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;}</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;}</div></div><!-- fragment --></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The number of the connection which is to be periodically polled. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00700_source.html#l00389">389</a> of file <a class="el" href="a00700_source.html">uip.h</a>.</p>

<p>Referenced by <a class="el" href="a00685_source.html#l00352">tcpip_icmp6_call()</a>.</p>

</div>
</div>
<a class="anchor" id="gabaf0bb2b6a4424b4eb69e45e457c2583"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uip_periodic_conn</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">conn</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform periodic processing for a connection identified by a pointer to its structure. </p>
<p>Same as <a class="el" href="a02520.html#ga1024f8a5fa65e82bf848b2e6590d9628" title="Periodic processing for a connection identified by its number. ">uip_periodic()</a> but takes a pointer to the actual <a class="el" href="a00161.html" title="Representation of a uIP TCP connection. ">uip_conn</a> struct instead of an integer as its argument. This function can be used to force periodic processing of a specific connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>A pointer to the <a class="el" href="a00161.html" title="Representation of a uIP TCP connection. ">uip_conn</a> struct for the connection to be processed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00700_source.html#l00413">413</a> of file <a class="el" href="a00700_source.html">uip.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaf20aaf4292cb0d2a1b10bc0a568b51fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uip_poll_conn</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">conn</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request that a particular connection should be polled. </p>
<p>Similar to <a class="el" href="a02520.html#gabaf0bb2b6a4424b4eb69e45e457c2583" title="Perform periodic processing for a connection identified by a pointer to its structure. ">uip_periodic_conn()</a> but does not perform any timer processing. The application is polled for new data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>A pointer to the <a class="el" href="a00161.html" title="Representation of a uIP TCP connection. ">uip_conn</a> struct for the connection to be processed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00700_source.html#l00427">427</a> of file <a class="el" href="a00700_source.html">uip.h</a>.</p>

<p>Referenced by <a class="el" href="a00685_source.html#l00352">tcpip_icmp6_call()</a>.</p>

</div>
</div>
<a class="anchor" id="ga2c64c8c36bc84f9336f6a2184ea51883"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uip_udp_periodic</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">conn</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Periodic processing for a UDP connection identified by its number. </p>
<p>This function is essentially the same as <a class="el" href="a02520.html#ga1024f8a5fa65e82bf848b2e6590d9628" title="Periodic processing for a connection identified by its number. ">uip_periodic()</a>, but for UDP connections. It is called in a similar fashion as the <a class="el" href="a02520.html#ga1024f8a5fa65e82bf848b2e6590d9628" title="Periodic processing for a connection identified by its number. ">uip_periodic()</a> function: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;for(i = 0; i &lt; UIP_UDP_CONNS; i++) {</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uip_udp_periodic(i);</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;if(uip_len &gt; 0) {</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;devicedriver_send();</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;}</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;}</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>As for the <a class="el" href="a02520.html#ga1024f8a5fa65e82bf848b2e6590d9628" title="Periodic processing for a connection identified by its number. ">uip_periodic()</a> function, special care has to be taken when using uIP together with ARP and Ethernet: <div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;for(i = 0; i &lt; UIP_UDP_CONNS; i++) {</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;uip_udp_periodic(i);</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;if(uip_len &gt; 0) {</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;uip_arp_out();</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;ethernet_devicedriver_send();</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;}</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;}</div></div><!-- fragment --></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>The number of the UDP connection to be processed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00700_source.html#l00464">464</a> of file <a class="el" href="a00700_source.html">uip.h</a>.</p>

</div>
</div>
<a class="anchor" id="gaf5c2ad5acf3cc23b8262e9ba6a15136b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uip_udp_periodic_conn</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">conn</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Periodic processing for a UDP connection identified by a pointer to its structure. </p>
<p>Same as <a class="el" href="a02520.html#ga2c64c8c36bc84f9336f6a2184ea51883" title="Periodic processing for a UDP connection identified by its number. ">uip_udp_periodic()</a> but takes a pointer to the actual <a class="el" href="a00161.html" title="Representation of a uIP TCP connection. ">uip_conn</a> struct instead of an integer as its argument. This function can be used to force periodic processing of a specific connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">conn</td><td>A pointer to the <a class="el" href="a00191.html" title="Representation of a uIP UDP connection. ">uip_udp_conn</a> struct for the connection to be processed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="a00700_source.html#l00481">481</a> of file <a class="el" href="a00700_source.html">uip.h</a>.</p>

<p>Referenced by <a class="el" href="a00685_source.html#l00352">tcpip_icmp6_call()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaf8a01d734ce7c50dd9ef03b2a4e7a0ce"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uip_reass_over </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Abandon the reassembly of the current packet. </p>
<dl class="section note"><dt>Note</dt><dd>We don't have a complete packet to put in the error message. We could include the first fragment but since its not mandated by any RFC, we decided not to include it as it reduces the size of the packet.</dd></dl>

<p>Definition at line <a class="el" href="a00770_source.html#l00816">816</a> of file <a class="el" href="a00770_source.html">uip6.c</a>.</p>

<p>References <a class="el" href="a00951_source.html#l00243">etimer_stop()</a>, <a class="el" href="a00767_source.html#l00089">ICMP6_TIME_EXCEED_REASSEMBLY</a>, <a class="el" href="a00767_source.html#l00055">ICMP6_TIME_EXCEEDED</a>, <a class="el" href="a00700_source.html#l01342">uip_conn::rcv_nxt</a>, <a class="el" href="a00770_source.html#l00259">uip_acc32</a>, <a class="el" href="a00770_source.html#l00295">uip_add32()</a>, <a class="el" href="a00766_source.html#l00183">uip_icmp6_error_output()</a>, <a class="el" href="a00768_source.html#l00104">UIP_IP_BUF</a>, <a class="el" href="a00770_source.html#l00661">uip_reass_timer</a>, and <a class="el" href="a00700_source.html#l01430">UIP_STAT</a>.</p>

<p>Referenced by <a class="el" href="a00685_source.html#l00352">tcpip_icmp6_call()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Mar 11 2022 12:06:08 for Contiki 3.x by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
